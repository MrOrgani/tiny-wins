#\!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Pre-push psychology compliance check
echo "üß† Running comprehensive psychology compliance check..."

# Run full test suite
npm run test

# Accessibility audit
npm run a11y:check

# Psychology-focused checks
echo "Checking for psychology compliance..."
if grep -r "fail\|failure\|broken\|wrong\|bad" src/ --include="*.tsx" --include="*.ts" --exclude-dir=node_modules; then
  echo "‚ùå Found shame-based language in code. Please use encouraging alternatives."
  exit 1
fi

echo "‚úÖ All psychology compliance checks passed\!"
