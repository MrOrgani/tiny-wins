# Pre-push psychology compliance check
echo "üß† Running comprehensive psychology compliance check..."

# Run full test suite
npm run test

# Psychology-focused checks
echo "Checking for psychology compliance..."
if grep -r "\bfail\b\|\bfailure\b\|\bbroken\b\|\bwrong\b" src/ --include="*.tsx" --include="*.ts" --exclude-dir=node_modules | grep -v "doesn't make you feel bad" | grep -v "badge" | grep -v "IdentityBadge" | grep -v "test-utils.tsx" | grep -v "/(fail|error|wrong|bad|broken)/i.test"; then
  echo "‚ùå Found shame-based language in code. Please use encouraging alternatives."
  exit 1
fi

echo "‚úÖ All psychology compliance checks passed\!"
